<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="apple-mobile-web-app-capable" content="yes"> <!--this header code allows to have the screen go over the notch-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover,user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta charset="UTF-8">
    <script src = ./modules/jquery.js></script>
    <script type="text/javascript" src="./modules/xlsx.js"></script>
    <script  src="./modules/lzutf8.js"></script>
    <script src="./modules/chart.js"></script>
    <script src="./modules/vue.js"></script>
    <script src="./modules/socket.io.js"></script>
    <script type="text/javascript" src="./modules/FileSaver.js"></script>
    <script src="./modules/moment.js"></script>
    <script src="./modules/axios.js"></script>
    <style>
        @font-face {
            font-family: 'normal_def'; src: url("./fonts/Poppins-Regular.ttf") format('truetype');
        }
        @font-face {
            font-family: 'curly'; src: url("./fonts/curly.ttf") format('truetype');
        }
        :root {
            --blockColor  : #f4f4f4;
            --backColor   : #ffffff;
            --sidebarColor: #777777;
            --buttonColor : #a1a1a1;
            --hoverColor  : #000000;
            --loadingBar  : green;
            --loadingBar2 : #00bd00;
            --loadingBar3 : #00cc00;
            --loadingBar4 : #00ff00;
        }


        body                                { background-color: var(--backColor); margin: 0; padding: 0;-webkit-user-select: none; -ms-user-select: none; -moz-user-select: none; user-select: none; }

        #vueApp                             { position: absolute; height: 100%; width: 100%;   }

        /*if vueApp is set to fixed positioning, app will have no overflow! kind of interesting*/

        /*.box{*/
        /*    position: absolute;*/
        /*    left: 50%;*/
        /*    top: 50%;*/
        /*    transform: translate(-50%,-50%);*/

        /*    height: 400px;*/
        /*    !*width: 600px;*!*/
        /*    width: 900px;*/
        /*    background-color: var(--blockColor);*/
        /*    box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;*/

        /*    border-radius: 10px;*/
        /*}*/

        .box{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            height: 400px;
        /* width: 600px; */
            width: 900px;
            background-color: #3d5479d9;
            box-shadow: rgb(100 100 111 / 20%) 0px 7px 29px 0px;
            border-radius: 10px;
        }

        .input_con{
            position: relative;
            height: auto;
            width: 200px;

            left: 50%;
            transform: translate(-50%);
            top: 75px;
        }

        .text{
            position: relative;
            height: 40px;
            width: 300px;
            line-height: 50px;
            left: 50%;
            transform: translate(-50%,0);

            font-family: 'normal_def';
            font-size: 1em;
            border-radius: 10px;
            border:none;
            margin-bottom: 25px;
            text-align: center;

            color: white;
        }
        .itext{
            position: relative;
            height: 40px;
            width: 300px;
            line-height: 50px;
            left: 50%;
            transform: translate(-50%,0);
            font-family: 'normal_def';
            font-size: 1em;
            border-radius: 10px;
            border:none;
            margin-bottom: 25px;
            text-align: center;

            color: black;
        }
        .ptext{
            position: relative;
            height: 40px;
            width: 300px;
            line-height: 50px;
            left: 50%;
            transform: translate(-50%,0);
            margin-top: 25px;

            font-family: 'normal_def';
            font-size: 1em;
            border-radius: 10px;
            border:none;
            margin-bottom: 25px;
            text-align: center;

            color: black;
        }

        .si_btn{
            position: relative;
            top: 100px;
            height: 45px;
            width: 150px;
            background-color: cornflowerblue;
            color: white;
            font-family: 'normal_def';
            font-size: 1em;
            border: none;
            border-radius: 50px;
            box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
            left: 50%;

            transform: translate(-50%);
            cursor: pointer;

        }

        .link{
            position: absolute;
            bottom: 5px;
            left: 5px;
            font-family: 'normal_def';
            font-size: .8em;
            /*color: #858585;*/
            cursor: pointer;
            padding: 5px;
            color: white;

        }

        .link2{
            position: absolute;
            bottom: 5px;
            right: 5px;
            font-family: 'normal_def';
            font-size: .8em;
            /*color: #858585;*/
            cursor: pointer;
            padding: 5px;
            color: white;

        }

        .title{
            font-family:'curly';
            font-size: 3em;
            height: 60px;
            line-height: 60px;
            text-align: center;
            color: #ffffff;
            left: 50%;
            transform: translate(-50%);
            top: 140px;
            position: relative;
        }

        .acorn{
            position: absolute;
            height: auto;
            width: 50%;
        }

        .con{
            height: auto;
        }

        .profileTopBoarder{
            position: absolute;
            top: 0;
            width: 100%;
            height: 300px;
            background-color: #1c72ab;
        }

        .pPhoto{
            position: absolute;
            top:50%;
            height: 250px;
            width: 250px;
            left: 50%;
            transform: translate(-50%,0);
            border-radius: 50%;
            background-color: #d2d2d2;
            overflow: hidden;

        }

        img{
            position: relative;
            height: auto;
            width: 250px;
        }

        .imgClass{
            position: relative;
            height: auto;
            width: 25px;
            top: 6px;
        }

        .pTitle{
            position: relative;
            top: 400px;
            font-family: 'normal_def';
            color: #2a2828;
            font-size: 20px;
            text-align: center;
            line-height: 60px;
            height: 60px;
            width: auto;


        }

        /*.profile_con{*/
        /*    height: 3000px;*/
        /*}*/


        /*scroll source*/
        .greySubBackground{
            position: relative;
            top:0px;
            height: 500px;
            width: 100%;
            background-color: #f5f5f5;
        }



        .white_container{
            position: relative;
            top: 20px;
            width: 99%;
            height: 300px;
            left: 50%;
            transform: translate(-50%,0);
            background-color: white;
            border-radius: 25px;


        }

        .about_container{
            position: relative;
            top: 75px;
            height: 300px;
            width: 100%;
            background-color: #ffffff;
            border: black solid;
        }

        table{
         padding: 5px;
            border: none;
        }
        th,td {
           width: 20%;
            text-align: center;
            height: 60px;
        }
        .aTitle{
            text-align: left;
        }

        .campusIndicator{
            font-size: 16px;
            position: relative;
            top: -32px;
            font-weight: bold;

        }

        .divCol {
            float: left;
            display: inline-block;
            width: 50%;
            /*padding: 10px;*/
            /*height: 400px; !* Should be removed. Only for demonstration *!*/
        }

        /* Clear floats after the columns */

        .divRow{
            position: relative;
            width: 100%;
            left: 50%;
            transform: translate(-50%,0);

            height: 300px;
            margin-bottom: 100px;
        }


        .divRow:after {
            content: "";
            display: table;
            clear: both;
            width: 80%;
            left: 50%;
            transform: translate(-50%,0);
        }

        .icon{
            position: relative;
            height: auto;
            width: 12px;
            margin-right: 5px;
        }

        .sub_contain{
            height: 160px;
            width: 100%;
            position: relative;
            text-align: center;
            line-height: 60px;
        }

        ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            line-height: 42px;
        }

        .username{
            font-size: 30px;
            font-weight: bold;
        }

        .subTitle{
            font-size: 26px;
            font-weight: bold;
            color: #126da8;
        }

        .desc{
            font-size: 16px;
        }

        .extras{
            position: absolute;
            right: 0;
            text-align: right;
            width: 700px;
            transform: translate(-50%, 0);
            left: 50%;
            top: 328px;
            font-family: 'normal_def';
        }


        .nav_bar{
            position: fixed;
            width: 100%;
            height: 60px;
            background-color: #0c486e;
            color: white;
            font-family: 'normal_def';


        }

        .li_nav{
            position: relative;
            display: inline-block;
            padding: 10px;
            cursor: pointer;


        }

        .login_nav{
            position: absolute;
            top: 0;
        }

        .main_contain{
            position: absolute;
            height: 100%;
            width: 100%;
            /*background-color: green;*/

        }

        .sidebar{
            position: relative;
            /*left: 0;*/
            width: 100%;
            height: 100%;
            background-color: #f6f6fa;
            box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;
        }

        .chatTab{
            position: relative;
            height: 60px;
            width: 90%;
            left: 50%;
            transform: translate(-50%,0);
            background-color: #e2e2e4;
            top: 87px;
            border-radius: 20px;
            margin-bottom: 20px;
            font-size: 12px;
        }

        .chatTab:active{
           background-color: #1c6fa8;
            color: white;
        }

        .otherPerson:active{
            color: white;
        }
        .blue:active{
            color: white;
        }
        .blue{
            position: relative;
            height: 60px;
            width: 90%;
            left: 50%;
            transform: translate(-50%,0);
            background-color: #5283a2;
            top: 87px;
            border-radius: 20px;
            margin-bottom: 20px;
            color: white;
        }

        .chatTab:hover{
            cursor: pointer;
            /*background-color: rgba(226, 226, 228, 0.45);*/
            /*border: 1px solid white;*/
        }

        /*.chatTab:active{*/
        /*   background-color: #696969;*/
        /*    color: white;*/
        /*    !*border: 1px solid white;*!*/
        /*}*/

        .otherPerson{
            position: relative;
            height: 60px;
            width: 100%;
            top: 50%;
            transform: translate(0,-50%);
            line-height: 60px;
            text-align: center;
            font-family: 'normal_def' ;
            font-size: 1.1em;
            color: #000000;

        }

        .chatWindow{
            position: relative;
            top: 0;
            background-color: #fdfdfd;
            height: 100%;
            width:100%;

        }


        .table_div2{
            position: relative;
            width: 100%;
            top: 72px;
            height: 100%;
            left: 50%;
            transform: translate(-50%,0);
            /*border: solid white;*/
        }

        .column_div2{
            position: relative;
            /* float: left; */
            display: inline-block;
            height: 100%;
            /* border: solid white; */
            margin: 10px;
        }

        .table_div{
            position: absolute;
            width: 99%;
            top: 0px;
            height: 100%;
            left: 50%;
            transform: translate(-50%,0);
            /*border: solid white;*/
        }

        .column_div{
            position: relative;
            float: left;
            height: 100%;
            /*border: solid white;*/
        }

        /*table{*/
        /*    border: none;*/
        /*}*/


        .bubble_window{
            position: absolute;
            left: 50%;
            transform: translate(-50%,0);
            top: 100px;
            height: 90%;
            width: 97%;
            background-color: #f7f7f7;
            overflow: auto;
            border-top-right-radius: 20px;
            border-top-left-radius: 20px;
        }

        .msg{
            position: absolute;
            height: 60px;
            width: 90%;
            transform: translate(-50%,0);
            left: 50%;
            font-family: 'normal_def';
            color: #d2d2d2;
            font-size: 20px;
            /* background-color: cadetblue; */
            line-height: 60px;
        }
        /*.input_bar{*/
        /*    position: absolute;*/
        /*    bottom: 25px;*/
        /*    height: 60px;*/
        /*    width: 97%;*/
        /*    left: 50%;*/
        /*    transform: translate(-50%,0);*/
        /*    background-color: #e0e0e2;*/
        /*    border-bottom-right-radius: 20px;*/
        /*    border-bottom-left-radius: 20px;*/
        /*}*/

        .input_bar2{
            position: absolute;
        /* bottom: 25px; */
            bottom: 5px;
            height: 100%;
            width: 100%;
        /* left: 50%; */
        /* transform: translate(-50%,0); */
            background-color: #0c476d;
            /*border-bottom-right-radius: 20px;*/
            /*border-bottom-left-radius: 20px;*/
        }

        .input_bar{
            position: absolute;
            /* bottom: 25px; */
            bottom: 5px;
            height: 55px;
            width: 97%;
            left: 50%;
            transform: translate(-50%,0);
            background-color: #e0e0e2;
            /* border-bottom-right-radius: 20px; */
            /* border-bottom-left-radius: 20px; */
        }
        div {
            display: block;
        }

        /*.send_btn{*/
        /*    position: relative;*/
        /*    display: inline-block;*/
        /*    width: 100px;*/
        /*    height: 45px;*/
        /*    line-height: 45px;*/
        /*    background-color: grey;*/
        /*    text-align: center;*/
        /*    font-family: 'normal_def';*/
        /*    font-size: 20px;*/
        /*    border-radius: 20px;*/
        /*    color: white;*/
        /*    top: 50%;*/
        /*    transform: translate(0,-50%);*/
        /*    left: 2%;*/
        /*}*/

        .send_btn{
            position: absolute;
            /* display: inline-block; */
            width: 80%;
            height: 35px;
            line-height: 35px;
            background-color: grey;
            text-align: center;
            font-family: 'normal_def';
            font-size: 20px;
            border-radius: 60px;
            color: white;
            top: 50%;
            transform: translate(-50%,-50%);
            left: 50%;
        }

        .send_btn2{
            position: relative;
             display: inline-block;
            width: 100px;
            height: 45px;
            line-height: 45px;
            background-color: grey;
            text-align: center;
            font-family: 'normal_def';
            font-size: 20px;
            border-radius: 60px;
            color: white;
            top: 50%;
            transform: translate(-50%,-50%);
            left: 50%;
        }

        .send_btn:hover{
            cursor: pointer;
            background-color: rgba(226, 226, 228, 0.45);
            color: #2a2828;
            border: 1px solid white;
        }

        .send_btn:active{
            background-color: #484848;
            color: white;
        }

        /*.userIn{*/
        /*    position: relative;*/
        /*    left: 1%;*/
        /*    top: 50%;*/
        /*    transform: translate(0,-50%);*/
        /*    width: 88%;*/
        /*    height: 35px;*/
        /*    border-radius: 20px;*/
        /*    border: none;*/
        /*    font-family: 'normal_def';*/
        /*    font-size: 20px;*/
        /*    padding: 8px;*/
        /*    color: #2a2828;*/

        /*}*/

        .userIn{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            width: 95%;
            height: auto;
            border-radius: 60px;
            border: none;
            font-family: 'normal_def';
            font-size: 20px;
            /* padding: 8px; */
            color: #2a2828;
        }

        .time_stamp{
            position: absolute;
            height: 100%;
            width: 70px;
            left: -80px;
            top: 0;
            /*background-color: cornflowerblue;*/
            font-family: 'normal_def';
            color: #2a2828;
            font-size: 14px;
            text-align: center;
        }

        .iconz{
            position: absolute;
            right: 5px;
            top: 5px;
            width: 50px;
            height: auto;
        }
        .iconz2{
            position: relative;
            left: 25px;
            top: 5px;
            width: 50px;
            height: auto;
        }

        .photo_upload{
            margin-bottom: 25px;
        }


        .photo_upload:hover{
            cursor: pointer;
        }

        .titlePhoto{
            position:relative;left: 50%; transform: translate(-50%,0); font-family: 'normal_def'; text-align: center; width: 100%; padding-bottom: 5px; color: white;
        }

        .overflow_con{
            position: relative;
            top: 40px;
            height: 72%;
            width: 100%;
            overflow: auto;
        }



        table {
            font-family: 'normal_def';
            border-collapse: collapse;
            width: 100%;
            border: none;
            top: 20px;
        }

        table td, table th {
            /*border: 1px solid #ddd;*/
            border: none;
            padding: 2px;
        }

        table tr:nth-child(even){background-color: #f2f2f2;}

        table tr:hover {background-color: #ddd;}

        table th {
            /*padding-top: 12px;*/
            /*padding-bottom: 12px;*/
            text-align: left;
            background-color: #1c71aa;
            color: white;
        }

        .starting_con{
            position: absolute;
            height: 100%;
            width: 100%;
            background-image: url("photos/nice.gif");
            /*background-image: url("photos/nice.gif");*/
            background-repeat: no-repeat;
            background-size: cover;
        }

        /*.addBtn{*/
        /*    position: relative;*/
        /*    background-color: #1c71aa;*/
        /*    color: white;*/
        /*    font-family: normal_def;*/
        /*    font-size: 1em;*/
        /*    text-align: center;*/
        /*    height: auto;*/
        /*    line-height: 25px;*/
        /*    width: 75px;*/
        /*    border-radius: 25px;*/
        /*    padding:2px;*/
        /*    margin-top: 5px;*/
        /*}*/

        .addBtn{
            position: relative;
            background-color: #1c71aa;
            color: white;
            font-family: normal_def;
            font-size: 1em;
            text-align: center;
            height: auto;
            line-height: 25px;
            width: 75px;
            border-radius: 25px;
            padding: 2px;
            margin-top: 5px;
            margin-bottom: 5px;
            left: 50%;
            transform: translate(-50%,0);

        }
        .addBtn2{
            position: relative;
            background-color: #1c71aa;
            color: white;
            font-family: normal_def;
            font-size: 1em;
            text-align: center;
            height: auto;
            line-height: 25px;
            width: 75px;
            border-radius: 25px;
            padding: 2px;
            margin-top: 5px;
            margin-bottom: 5px;
            left: 50%;
            transform: translate(-50%,0);
            top: 72px;

        }

        .addBtn2:hover{
            cursor: pointer;
            background-color: #0d5280;
        }

        .addBtn2:active{
            transform: translate(-50%,2px);
        }

        .addBtn:hover{
            cursor: pointer;
            background-color: #0d5280;
        }

        .addBtn:active{
            transform: translate(-50%,2px);
        }

        .popup{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            height: 450px;
            padding-bottom: 10px;
            width: 500px;
            background-color: #0c486e;
            border-radius: 15px;
            /*overflow: auto;*/
        }

        .popup2{
            position: absolute;height: 200px; width: 500px; background-color: #0c476d; top: 50%; left: 50%; transform: translate(-50%,-50%); border-radius: 25px;
        }


        .pop_up_text{
            position: relative;
            top: 0;
            height: 80%;
            width: 100%;
            /*background-color: yellow;*/
            /*line-height: 20%;*/
            font-family: normal_def;
            /*text-align: left;*/
            /*padding:10px;*/
            overflow: auto;
        }

        .h_box{
            overflow: auto; position: relative; height: 100px;
        }

        .checkbox{
            position: relative;
            height: 30px;
            width: 30px;

        }

        .text_con{
            position: relative;
            height: 100%;
            width: 100%;
        }

        .dofW{
            position: relative; width: 100%; text-align: center; color: white; font-family: normal_def;

        }

        .close{
            position: fixed;
            top: 15px;
            right: 15px;
            height: 25px;
            width: 45px;
            background-color: #5e5e5e;
            border-radius: 15px;
            padding: 5px;
            color: white;
            font-family: normal_def;

        }

        .close:active{
            transform: translate(0,2px);
        }

        .close:hover{
            cursor: pointer;
        }

        li{

        }

        .table_div_chat{
            position: absolute;
            width: 100%;
            height: 100%;
            border: none;
            left: 50%;
            transform: translate(-50%,0);
            /*border: solid white;*/
        }

        .column_div_chat{
            position: relative;
            display: inline-block;
            width: 100%;
            height: 100%;
        }

        .row_div{
            position: relative;
            top: 0px;
            width: 100%;
            /*height: 40%;*/
            /*background-color: green;*/
        }

        #search{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%,-50%);
            width: 50%;
        }




        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        /* Hide default HTML checkbox */
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }

        /*.nav_switch{*/
        /*    position: absolute;*/
        /*!* float: left; *!*/
        /*!* display: inline-block; *!*/
        /*    top: 50%;*/
        /*    transform: translate(0, -49%);*/
        /*    right: 130px;*/
        /*}*/

        .nav_switch{
            position: relative;
            transform: translate(-50%,0);
            left: 50%;
        /* top: -105px; */
        }

        .tt{

            position: relative;
            display: inline-block;
            padding: 5px;
            /* margin: -2px; */
            height: 45px;
            line-height: 45px
        }

        /*.tt{*/
        /*    position: relative;*/
        /*    top: 50%;*/
        /*    transform: translate(0,-50%);*/
        /*}*/


        .table_div_nav{
            position: absolute;
            width: 310px;
            height: 100%;
            border: none;
            left: 50%;
            transform: translate(-50%,0);
            /*border: solid white;*/
        }

        .column_div_nav{
            position: relative;
            display: inline-block;
            width: 40%;
            height: 100%;
            text-align: center;
        }

        .mutualConProfilePhotosBox{
            position: relative;
            /*display: inline-block;*/
            width: 300px;
            height: auto;
            left: 50%;
            transform: translate(-50%,0);
        }

        .pPhoto_small{
            display: inline-block;
            height: 100px;
            width: 100px;
            /*background-color: purple;*/
            border-radius: 50%;
            overflow: hidden;
            margin-left: 2px;
            margin-right: 2px;
        }

        .mini_p_image {
            position: relative;
            transform: translate(-50%,-50%);
            left: 50%;
            top: 50%;
            height: auto;
            width: 100%;
        }

        .bubbleBoy{
            /*background: blue;*/
            height: 60px;
            position: relative;
            text-align: center;
            width: 45%;
            left: 50%;
            transform: translate(-50%);
            border-radius: 25px;
            margin-bottom: 25px;
        }





        body::-webkit-scrollbar                                                   { width: 0.4vw;}
        body::-webkit-scrollbar-thumb                                             { background-color: var(--buttonColor);border-radius: 5px;}
        body::-webkit-scrollbar-track                                             { background-color: rgb(231, 231, 231);border-radius: 5px;}

        .bubble_window::-webkit-scrollbar                                                   { width: 0.4vw;}
        .bubble_window::-webkit-scrollbar-thumb                                             { background-color: var(--buttonColor);border-radius: 5px;}
        .bubble_window::-webkit-scrollbar-track                                             { background-color: rgb(231, 231, 231);border-radius: 5px;}

        .overflow_con::-webkit-scrollbar                                                   { width: 0.4vw;}
        .overflow_con::-webkit-scrollbar-thumb                                             { background-color: var(--buttonColor);border-radius: 5px;}
        .overflow_con::-webkit-scrollbar-track                                             { background-color: rgb(231, 231, 231);border-radius: 5px;}

        .h_box::-webkit-scrollbar                                                   { width: 0.4vw;}
        .h_box::-webkit-scrollbar-thumb                                             { background-color: var(--buttonColor);border-radius: 5px;}
        .h_box::-webkit-scrollbar-track                                             { background-color: rgb(231, 231, 231);border-radius: 5px;}

        .pop_up_text::-webkit-scrollbar                                                   { width: 0.4vw;}
        .pop_up_text::-webkit-scrollbar-thumb                                             { background-color: var(--buttonColor);border-radius: 5px;}
        .pop_up_text::-webkit-scrollbar-track                                             { background-color: rgb(231, 231, 231);border-radius: 5px;}


        .fade-enter-active, .fade-leave-active {
            transition: opacity .2s;
        }


        .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {
            opacity: 0;
        }


    </style>

    <title>Social Oak</title>

</head>

<body>

<div id = vueApp>

    <transition name = fade>
        <div class = starting_con v-show="starting_pages.state">
            <div class = title>Social Oak<img src="photos/acorn2.png" class = iconz2></div>
            <sign_in class = sign_in_comp v-if="starting_pages.sub_state.sign_in"></sign_in>
            <sign_up class = sign_up_comp v-if="starting_pages.sub_state.sign_up"></sign_up>
            <forgot class = sign_up_comp v-if="starting_pages.sub_state.forgot"></forgot>
        </div>
    </transition>

    <transition name = fade>
        <div class = profile_con v-show="profile_pages.state">
            <transition name = fade><main_profile class = main_profile v-show="profile_pages.sub_state.profile"></main_profile></transition>
            <transition name = fade><chat class = chat v-if="profile_pages.sub_state.chat"></chat></transition>
            <transition name = fade><discovery class = discovery v-show="profile_pages.sub_state.discovery"></discovery></transition>
            <nav_vue class = login_nav></nav_vue>
        </div>
    </transition>

</div>

<script>
    
    let webSocket                                      = io.connect(location.host);
    let msg
    let diagnostic                                     = true;
    let current_user;
  


    webSocket.on('connect', ()=>{

    })

    Vue.component('nav_vue', {
        template:
            `
              <div>
                <nav v-for="index in this.nav" class = nav_bar>
                  <ul>
                    <li v-for="item in index" class = li_nav @click="goToPage(item)">{{item.name}}</li>
                  </ul>
                  <img src="photos/acorn2.png" class = iconz>
                </nav>
              </div>
            `,
        data(){
            return {
                nav:[
                    [

                        {name:'Sign Out', val:'sign_out'},
                        {name:'Profile', val:'Profile'},
                        {name:'Discovery', val:'discovery'},
                        {name:'Chat', val:'chat'},

                    ]
                ],
                toggleGuy:true

            }
        },
        methods: {
            goToPage(page){

                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}


                let config = {
                    method: 'get',
                    url: 'http://198.74.61.26:8080/messages/userlist/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    }
                };

                axios(config)
                    .then(function (response) {


                        if(diagnostic){console.log(response.data.user_list);}

                        app.$root.$emit('populate_chat_side', response.data.user_list);


                    }).catch(function (error) {
                    console.log(error);
                });

                app.$root.$emit('go_to_page', page.val); //changes the page to the one the user clicks....
            }
        },
        computed:{

        },
        mounted(){

        }
    })

    Vue.component('sign_in', {
        template:
            `
                <div>
                <div class = box>
                  <div class = input_con>
                    <input type="text" class="itext" id="username" placeholder="Username" v-model="username">
                    <input type="password" class = "itext" id="password" placeholder="Password" v-model="password">
                  </div>
                  <button class = si_btn @click="signIn(username, password)">Sign In</button>
                  <div class = link @click="signUp()">Don't have an account? Sign up</div>
<!--                  <div class = link2 @click="forgot()">Forgot Password?</div>-->
                </div>

                </div>

            `,
        data(){
            return {
                username:'',
                password:'',

            }
        },
        methods: {
            signUp(){
                app.$root.$emit('go_to_page',('sign_up'));
            },
            forgot(){
                app.$root.$emit('go_to_page',('forgot'));
            },
            signIn(userN,pass){
                let user = {};

                let usrData = {username:userN, password:pass};


                axios.post('http://198.74.61.26:8080/loginjs/', usrData)
                    .then((response) => {
                        if (response.status === 202 ) { // if login is accepted....

                            if(diagnostic){console.log(response);}

                            user['token'] = response.data.token;

                            if(diagnostic){console.log(response);}

                            if(diagnostic){console.log(response.data.token);}




                            let config = {
                                method: 'get',
                                url: 'http://198.74.61.26:8080/profile/read/',
                                headers: {
                                    'Authorization': `Token ${response.data.token}`,
                                    'Content-Type': 'application/json'
                                }
                            };

                            axios(config)
                                .then(function (response) {


                                    if(diagnostic){ console.log(response)}

                                    user['email'] = userN;
                                    user['fname'] = response.data.first_name;
                                    user['lname'] = response.data.last_name;
                                    user['password'] = pass;
                                    user['rePass'] = pass;
                                    user['uni'] = response.data.university;
                                    user['major'] = response.data.major;
                                    user['hob'] = [];
                                    user['cls'] = response.data.class_standing;
                                    user['desc'] = response.data.about_me;
                                    user['job'] = response.data.job;
                                    user['on_campus'] = response.data.on_campus;
                                    user['classes'] = [];
                                    user['photoPath'] = response.data.avatar;
                                    user['friends'] = response.data.friends;



                                    localStorage.setItem('current_user', JSON.stringify(user)); // saves user to browser's local storage....

                                    if(diagnostic){ console.log('done'); }


                                    app.$root.$emit('populate_profile', user); // populates profile..... // one of these should be made for each page to be populated....

                                    app.$root.$emit('go_to_page', ('Profile')); // opens the profile page..... // should be able to change 'Profile' string to any page, this way on refresh, the page will always be where last set....

                                }).catch(function (error) {
                                   console.log(error);
                                });
                        }
                    }).catch(error => {
                    let err = JSON.parse(error.request.responseText);
                    alert(err.non_field_errors[0]);
                    })
            }
        },
        computed:{

        },
        mounted(){

        }
    })

    Vue.component('sign_up', {
        template:
            `
              <div>
              <div class=box style="height: 740px; top: 60%;">
                <div class=overflow_con>
                  <div class=input_con style="top:17px;">
                    <div class=titlePhoto>Profile Photo Upload</div>
                    <input type="file" class=photo_upload id="photo_upload" style="display: block" onchange="uploadFile()" accept=".png,.jpeg,.jpg">
                    <input type="text" class="itext" placeholder="Email Address" v-model="sign_up_obj.email">
                    <input type="text" class="itext" placeholder="First Name" v-model="sign_up_obj.fname">
                    <input type="text" class="itext" placeholder="Last Name" v-model="sign_up_obj.lname">
                    <input type="password" class="itext" placeholder="Password" v-model="sign_up_obj.password">
                    <input type="password" class="itext" placeholder="Re-enter Password" v-model="sign_up_obj.rePass">
                    <input type="text" class="itext" placeholder="University" v-model="sign_up_obj.uni">
                    <input type="text" class="itext" placeholder="Major" v-model="sign_up_obj.major">
                    <div class="text">Class Standing</div>
                    <select class=itext style="color: black" v-model="sign_up_obj.cls">
                      <option value="Freshman">Freshman</option>
                      <option value="Sophomore">Sophomore</option>
                      <option value="Junior">Junior</option>
                      <option value="Senior">Senior</option>
                    </select>
                    <input type="text" class="itext" placeholder="Short description" v-model="sign_up_obj.desc">
                    <div class="text">On campus?</div>
                    <input type="checkbox" class="itext" style="cursor: pointer" v-model="sign_up_obj.on_campus">
                    <input type="text" class="itext" placeholder="Job" v-model="sign_up_obj.job">
                  </div>
                </div>
                <button class=si_btn @click="create_user(forSql)">Sign Up</button>
                <div class=link @click="back_to_sign_in()">Go Back</div>
              </div>
              </div>

            `,
        data(){
            return {
                sign_up_obj:{
                    email:'',
                    fname:'',
                    lname:'',
                    password:'',
                    rePass:'',
                    uni:'',
                    major:'',
                    hob:[],
                    cls:'',
                    desc:'',
                    job:'',
                    on_campus:false,
                    show_schedule:true,
                    classes:[],
                    friends:[],
                },
                forSql:{},
                su:false
            }
        },
        methods: {
            back_to_sign_in(){
                app.$root.$emit('go_to_page',('sign_in'));
            },
            create_user(user){
                if(diagnostic){console.log('check 1');}
                if(diagnostic){console.log(user);}

                let userData = { // make user object and get the token for the user.
                    username:user.email,
                    password:user.password,
                    password2:user.rePass,
                    first_name:user.fname,
                    last_name:user.lname,
                    email:user.email
                }
                if(diagnostic){console.log('check 2');}
                axios.post('http://198.74.61.26:8080/register2/', userData)
                    .then((response) => {
                        if(diagnostic){console.log(response);}
                        if (response.status === 200 ) {

                            user['token'] = response.data.token;

                            if(diagnostic){console.log(response);}

                            if(diagnostic){console.log(response.data.token);}

                            let data = JSON.stringify({
                                "about_me": user.desc,
                                "class_standing": user.cls,
                                "first_name": user.fname,
                                "last_name": user.lname,
                                "job": user.job,
                                "on_campus": user.on_campus,
                                "show_schedule": user.show_schedule,
                                "university": user.uni,
                                "avatar": user.photoPath,
                                "major": user.major
                            });

                            let config = {
                                method: 'patch',
                                url: 'http://198.74.61.26:8080/profile/update/',
                                headers: {
                                    'Authorization': `Token ${response.data.token}`,
                                    'Content-Type': 'application/json'
                                },
                                data : data
                            };

                            axios(config)
                                .then(function (response) {

                                    if(diagnostic){ console.log(JSON.stringify(response.data))}

                                    localStorage.setItem('current_user', JSON.stringify(user)); // saves user to browser's local storage....

                                    if(diagnostic){console.log('done');} // finished...

                                    app.$root.$emit('populate_profile_first_time', user); // populates profile..... // one of these should be made for each page to be populated....

                                    app.$root.$emit('go_to_page', ('Profile')); // opens the profile page..... // should be able to change 'Profile' string to any page, this way on refresh, the page will always be where last set....

                                }).catch(function (error) {
                                    console.log(error);
                                });
                        }
                    }).catch(error => {
                        console.log(error.response);
                    });

            },

        },
        computed:{

        },
        mounted(){

            this.$root.$on('upload_complete',(name)=>{
                let path = name.replaceAll('"',"");
                if(diagnostic){console.log(path);}

                this.forSql = {};

                this.forSql = this.sign_up_obj;
                this.forSql['photoPath'] = `./profile_photos/${path}`;

                if(diagnostic){console.log(this.forSql);}

                app.$root.$emit('enable_signup', true);

            })
            this.$root.$on('enable_signup',(boo)=>{

                if(boo === true){
                    this.su = true;
                }else{
                    this.su = false;
                }
            })
        }
    })

    Vue.component('forgot', {
        template:
            `
                <div>
                <div class = box>
                  <div class = input_con>
                    <input type="text" class="text" id="username" placeholder="Email" onclick="document.getElementById('username').Placeholder = ''">
                  </div>
                  <button class = si_btn>Reset Password</button>
                  <div class = link @click="signIn()">Go Back</div>
                </div>
                </div>
            `,
        data(){
            return {
            }
        },
        methods: {
            signUp(){
                app.$root.$emit('go_to_page',('sign_up'));
            },
            signIn(){
                app.$root.$emit('go_to_page',('sign_in'));
            }
        },
        computed:{

        },
        mounted(){

        }
    })

    Vue.component('main_profile', {
        template:
            `
              <div>
              <div class=profileTopBoarder v-for="index in this.profile">
                <div class=pPhoto>
                  <img :src='index.IMG'>
                </div>
                <div class=extras>
                  <ul v-for="extra in index.extras">
                    <li class="desc"><img :src='extra.img' class=imgClass>{{ extra.item }}</li>
                  </ul>
                </div>
                <div class=pTitle>
                  <div class=addBtn @click="open_popup('job_major')">Modify</div>
                  <div class=username>{{ index.username }}</div>
                  <div class=campusIndicator v-if="index.on_campus === true"><img src="photos/check.png" class=icon>On Campus</div>
                  <div class=campusIndicator v-if="index.on_campus === false"><img src="photos/uncheck.png" class=icon>Off Campus</div>
                  <div><label class="switch" id = nav_switch><input type="checkbox" v-model="index.on_campus" @change="toggle_on_campus(index.on_campus)"><span class="slider round"></span></label></div>
                  <div class=divRow>
                    <div class=divCol >
                      <div class=sub_contain>
                        <div class=addBtn @click="open_popup('desc')" style="width: 225px">Change Description</div>
                        <div class=subTitle>Here For...</div>
                        <div class=desc>{{ index.desc }}</div>
                      </div>
                      <div class=sub_contain>
                        <div class=subTitle>Hobbies & Interests</div>
                        <div class=addBtn @click="open_popup('hob')">+Add</div>
                        <div style="overflow: auto; position: relative; height: 100px" class=h_box>
                          <ul v-for="hob in index.hob">
                            <li class="desc">{{ hob }}</li>
                          </ul>
                        </div>
                      </div>
                    </div>
                    <div class=divCol>
                      <div class=subTitle>Mutual Connections</div>
                      <div class=mutualConProfilePhotosBox>
                        <div class=pPhoto_small v-for="person in index.friends">
                          <img :src="person.profile" class = mini_p_image>
                        </div>
                      </div>
                    </div>
                  </div>
                    <div class = nav_switch>
                      <div>Schedule View</div>
                     <div><label class="switch" id = nav_switch><input type="checkbox" v-model="toggleGuy" @change="toggle_show_schedule(toggleGuy)"><span class="slider round"></span></label>
                     </div>
                    </div>
                    <div class="table_div2" v-show="toggleGuy">
                      <div>School Schedule</div>
                      <div class=addBtn @click="open_popup('classes')">+Add</div>
                      <div class="column_div2" v-for="item in index.classes">
                        <div class=schd_box>
                          <table>
                            <tr>
                              <th  style="text-align: center">Class</th>
                              <th style="text-align: center">DOW</th>
                              <th style="text-align: center">Start Time</th>
                              <th style="text-align: center">End Time</th>
                              <th style="text-align: center">Building</th>
                            </tr>
                            <tr>
                              <td>{{ item.class }}</td>
                              <td>
                                <ul>
                                  <li style="display: inline-block;padding: 5px" v-for="thing in item.dow">{{thing}}</li>
                                </ul>
                              </td>
                              <td>{{ item.startTime }}</td>
                              <td>{{ item.endTime }}</td>
                              <td>{{ item.building }}</td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                </div>
              </div>

              <div class="popup" v-if="this.hobbie_popup">
                <div class=pop_up_text>
                  <div class = close @click="hobbie_popup = false">Close</div>
                  <div class=text style="font-size: 1.3em">Hobby:<input class="itext" type="text" v-model="this.hobbie_addition"></div>
                </div>
                <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_hobbie(this.hobbie_addition)">Add</div>
              </div>


              <div class="popup" v-if="desc">
                <div class=pop_up_text>
                  <div class = close @click="desc = false">Close</div>
                  <div class=text style="font-size: 1.3em">Desc:<input class="itext" type="text" v-model="this.desc_replacement"></div>
                </div>
                <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_desc(this.desc_replacement)">Add</div>
              </div>

              <div class="popup" v-if="job_major_popup">
                <div class=pop_up_text>
                  <div class = close @click="job_major_popup = false">Close</div>
                  <div class=text style="font-size: 1.3em; margin-top: 20px"><input class="itext" type="text" v-model="this.jobEntry" placeholder="Job"></div>
                  <div class=text style="font-size: 1.3em; margin-top: 20px"><input class="itext" type="text" v-model="this.majorEntry" placeholder="Major"></div>
                </div>
                <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_job_major(this.jobEntry,this.majorEntry)">Change</div>
              </div>

              <div class="popup" v-if="this.classes_popup" style="top: 885px">
                <div class=pop_up_text>
                  <div class = close @click="classes_popup = false">Close</div>
                  <input class="ptext" type="text" v-model="class_addition.classname" placeholder="Class name">
                  <div class = dofW>Monday</div>
                  <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.mon">
                  <div class = dofW>Tuesday</div>
                  <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.tus">
                  <div class = dofW>Wednesday</div>
                  <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.wed">
                  <div class = dofW>Thursday</div>
                  <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.thu">
                  <div class = dofW>Friday</div>
                  <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.fri">
                  <div class = dofW>Start Time:</div>
                  <input class="ptext" type="time" v-model="class_addition.start_time">
                  <div class = dofW>End Time:</div>
                  <input class="ptext" type="time" v-model="class_addition.end_time">
                  <div class = dofW>Building:</div>
                  <input class="ptext" type="text" v-model="class_addition.building">

                </div>
                <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_class(class_addition)">Add</div>
              </div>
              </div>

            `,
        data(){
            return {
                profile:[],
                hobbie_popup:false,
                job_major_popup:false,
                classes_popup:false,
                desc:false,
                hobbie_addition:'',
                desc_replacement:'',
                jobEntry:'',
                majorEntry:'',
                class_addition:{
                    classname:'',
                    days_of_week:{
                        mon:false,
                        tus:false,
                        wed:false,
                        thu:false,
                        fri:false,
                    },
                    start_time:'',
                    end_time:'',
                    building:''
                },
                hNi:true,
                toggleGuy:true,
                online_mode:false

            }
        },
        methods: {
            signUp(){
                app.$root.$emit('go_to_page',('sign_up'));
            },
            signIn(){
                app.$root.$emit('go_to_page',('sign_in'));
            },
            open_popup(pop){
                try{
                    switch (pop) {
                        case 'hob':
                            this.hobbie_popup = true;
                            break;
                        case 'classes':
                            this.classes_popup = true;
                            break;
                        case 'desc':
                            this.desc = true;
                            break;
                        case 'job_major':
                            this.job_major_popup = true;
                            break;
                        default:
                            break;

                    }
                }catch (e) {
                    console.log(e.message)
                }


            },
            add_hobbie(hobby){
                if(diagnostic){console.log(hobby)}
                app.$root.$emit('update_browser','Profile', 'hob', hobby); // sends to function to update browser storage....
                app.$root.$emit('update_db','Profile', 'hob', hobby); // sends to function to update db storage....
            }, // after completing popup...
            add_class(newClass){
                if(diagnostic){console.log(newClass)}

                let classObj = {
                    class:newClass.classname,
                    startTime:newClass.start_time,
                    endTime:newClass.end_time,
                    building:newClass.building,
                };

                let dowArray = [];

                for (const day in newClass.days_of_week){
                    if(newClass.days_of_week[day] === true){
                        dowArray.push(day.toUpperCase());
                    }
                }

                classObj['dow'] = dowArray;

               if(diagnostic){console.log(classObj)}

                app.$root.$emit('update_browser','Profile', 'classes', classObj); // sends to function to update browser storage....
                app.$root.$emit('update_db','Profile', 'classes', classObj); // sends to function to update db storage....
            }, // after completing popup...
            add_desc(desc){
                if(diagnostic){console.log(desc)}

                app.$root.$emit('update_browser','Profile', 'desc', desc); // sends to function to update browser storage....
                app.$root.$emit('update_db','Profile', 'desc', desc); // sends to function to update db storage....
            }, // after completing popup...
            add_job_major(job,major){

                if(diagnostic){console.log(job)}
                if(diagnostic){console.log(major)}

                app.$root.$emit('update_browser','Profile', 'job', job); // sends to function to update browser storage....
                app.$root.$emit('update_db','Profile', 'job', job); // sends to function to update db storage....

                app.$root.$emit('update_browser','Profile', 'major', major); // sends to function to update browser storage....
                app.$root.$emit('update_db','Profile', 'major', major); // sends to function to update db storage....

                this.job_major_popup = false;

            }, // after completing popup...
            toggle_show_schedule(value){


                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                let data = JSON.stringify({
                    "show_schedule": value
                });

                let config = {
                    method: 'patch',
                    url: 'http://198.74.61.26:8080/profile/update/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : data
                };

                axios(config)
                    .then(function (response) {

                        if(diagnostic){console.log(JSON.stringify(response.data));}

                        current_user['show_schedule'] = value;

                       if(diagnostic){
                           console.log(current_user);
                       }

                        localStorage.clear();

                        localStorage.setItem('current_user', JSON.stringify(current_user)); // saves user to browser's local storage....

                        if(diagnostic){console.log('done');} // finished...

                        app.$root.$emit('populate_profile', current_user); // populates profile..... // one of these should be made for each page to be populated....

                        app.$root.$emit('go_to_page', ('Profile')); // opens the profile page..... // should be able to change 'Profile' string to any page, this way on refresh, the page will always be where last set....

                        this.toggleGuy = !this.toggleGuy;
                    }).catch(function (error) {
                    console.log(error);
                });

            },
            toggle_on_campus(value){


                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                let data = JSON.stringify({
                    "on_campus": value
                });

                let config = {
                    method: 'patch',
                    url: 'http://198.74.61.26:8080/profile/update/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : data
                };

                axios(config)
                    .then(function (response) {

                        if(diagnostic){console.log(JSON.stringify(response.data));}

                        current_user['on_campus'] = value;

                       if(diagnostic){
                           console.log(current_user);
                       }

                        localStorage.clear();

                        localStorage.setItem('current_user', JSON.stringify(current_user)); // saves user to browser's local storage....

                        if(diagnostic){console.log('done');} // finished...

                        app.$root.$emit('populate_profile', current_user); // populates profile..... // one of these should be made for each page to be populated....

                        app.$root.$emit('go_to_page', ('Profile')); // opens the profile page..... // should be able to change 'Profile' string to any page, this way on refresh, the page will always be where last set....

                        this.online_mode = !this.online_mode;

                        console.log(this.online_mode)

                    }).catch(function (error) {
                    console.log(error);
                });

            }
        },
        computed:{

        },
        mounted(){

            this.$root.$on('populate_profile_first_time', (data)=>{

                localStorage.setItem('current_user', JSON.stringify(data)); // saves user to browser's local storage....

                this.profile.splice(0);

                if(diagnostic) {console.log(data)}

                let newObj = {
                    username:`${data.fname} ${data.lname}`,
                    on_campus: data.on_campus,
                    IMG:data.photoPath,
                    school:data.uni,
                    job:data.job,
                    degree:data.major,
                    extras:[
                        {item:`${data.cls}, Undergraduate`, img:'./photos/hat.png'},
                        {item:`${data.major}`, img:'./photos/net.png'},
                        {item:`${data.job}`},
                    ],
                    hob:[],
                    desc:data.desc,
                    classes:[],
                    friends:[]
                }

                this.toggleGuy = data.show_schedule;

                this.profile = [newObj];
            })
            this.$root.$on('populate_profile', (data)=>{

                if(diagnostic){console.log(data)}

                localStorage.setItem('current_user', JSON.stringify(data)); // saves user to browser's local storage....

                this.profile.splice(0);

                if(diagnostic){console.log(data)}

                let newObj = {
                    username:`${data.fname} ${data.lname}`,
                    on_campus: data.on_campus,
                    IMG:data.photoPath,
                    school:data.uni,
                    job:data.job,
                    degree:data.major,
                    extras:[
                        {item:`${data.cls}, Undergraduate`, img:'./photos/hat.png'},
                        {item:`${data.major}`, img:'./photos/net.png'},
                        {item:`${data.job}`},
                    ],
                    hob:data.hob,
                    desc:data.desc,
                    classes:data.classes,
                    friends:data.friends,


                }

                this.toggleGuy = data.show_schedule;

                this.profile = [newObj];

            })
            this.$root.$on('remove_popup', ()=>{

                this.hobbie_popup = false;

            })
            this.$root.$on('add_friend_to_mutual_connections', (friend)=>{
                app.$root.$emit('update_browser','Profile', 'friends', friend.IMG); // sends to function to update browser storage....
                if(diagnostic){
                    console.log('FRIEND');
                    console.log(friend);
                }
            })

        }
    })

    Vue.component('chat', {
        template:
            `
              <div>
              <div class=main_contain>
                <div class=table_div>
                  <div class=column_div style="width: 15%">
                    <div class=sidebar>
                      <div class=addBtn2 @click="open_popup('add_chat_tab')">+Add</div>
                      <div class=chatTab v-for="index in this.chats" :class="{ blue : hold === index.otherPerson, chatTab: hold !== index.otherPerson }">
                        <div class=otherPerson @click="populateChatWindow_WIP(index)">{{ index }}</div>
                      </div>
                    </div>
                  </div>
                  <div class=column_div style="width: 85%">
                    <div class=chatWindow>
                      <div class=bubble_window>
                        <div class=bubbleBoy style="background-color: #db1e1e; color: white" v-for="thing in this.chatWindowArray" v-if="thing.sender === this.cu ">
                          <div class=msg>{{ thing.date_sent + '       ' + thing.message }}</div>
                        </div>
                        <div class=bubbleBoy style="background-color: #1c70a9; color: white" v-else>
                          <div class=msg>{{ thing.date_sent + '       ' + thing.message }}</div>
                        </div>
                      </div>
                      <div class=input_bar>
                        <div class=table_div_chat>

                          <div class=column_div_chat style="width: 90%;">
                            <input type="text" class=userIn id=chIn v-model="inputText2">
                          </div>

                          <div class=column_div_chat style="width: 8%;">
                            <div class=send_btn @click="appendTextToChat(hold,inputText2)">Send</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class=popup2 v-if="add_chat_tab">
                <div>
                  <input type="text" class="itext" placeholder="email" style="top: 75px" v-model="inputText3">
                </div>


                <div class=addBtn style="position:absolute; width: 120px; bottom: 10px" @click="create_chat_tab(inputText3)">Create Chat</div>
                <div class=close @click="add_chat_tab = false">Close</div>

              </div>


              </div>

            `,
        data(){
            return {
                chats:[],
                chatWindowArray:[],
                inputText2:'',
                inputText3:'',
                hold:'',
                add_chat_tab:false,
                checker:'',
                cu:current_user.email

            }
        },
        methods: {
            populateChatWindow_WIP(person_to_chat_with){ // call this when done...

                clearInterval(this.checker);

                this.checker = setInterval(()=>{
                    current_user = localStorage.getItem('current_user'); // grab user....
                    current_user = JSON.parse(current_user);
                    if(diagnostic){console.log(current_user);}

                    let stuff = JSON.stringify({username: person_to_chat_with});

                    let config = {
                        method: 'post',
                        url: 'http://198.74.61.26:8080/messages/read/',
                        headers: {
                            'Authorization': `Token ${current_user.token}`,
                            'Content-Type': 'application/json'
                        },
                        data : stuff
                    };

                    axios(config)
                        .then(function (response) {

                            console.log(response.data);

                            if(response.data.length === 0){
                                //create a new chat....

                                app.$root.$emit('populate_blank_chat',person_to_chat_with);
                            }else{
                                //open old chat....

                                app.$root.$emit('populate_chat', response.data, person_to_chat_with);
                            }


                            // app.$root.$emit('go_to_page', ('other_profile'));



                        }).catch(function (error) {
                        console.log(error);
                        // this.inputText = '';
                        // alert(`Hmmm, it doesn't seem like that user exists... Try another email?`);
                        // this.inputText = '';

                    });
                },750)

                this.activate(person_to_chat_with);

                // current_user = localStorage.getItem('current_user'); // grab user....
                // current_user = JSON.parse(current_user);
                // if(diagnostic){console.log(current_user);}
                //
                // let stuff = JSON.stringify({username: person_to_chat_with});
                //
                // let config = {
                //     method: 'post',
                //     url: 'http://198.74.61.26:8080/messages/read/',
                //     headers: {
                //         'Authorization': `Token ${current_user.token}`,
                //         'Content-Type': 'application/json'
                //     },
                //     data : stuff
                // };
                //
                // axios(config)
                //     .then(function (response) {
                //
                //         console.log(response.data);
                //
                //         if(response.data.length === 0){
                //             //create a new chat....
                //
                //             app.$root.$emit('populate_blank_chat',person_to_chat_with);
                //         }else{
                //             //open old chat....
                //
                //             app.$root.$emit('populate_chat', response.data, person_to_chat_with);
                //         }
                //
                //
                //         // app.$root.$emit('go_to_page', ('other_profile'));
                //
                //
                //
                //     }).catch(function (error) {
                //     console.log(error);
                //     // this.inputText = '';
                //     // alert(`Hmmm, it doesn't seem like that user exists... Try another email?`);
                //     // this.inputText = '';
                //
                // });

            },
            appendTextToChat(recipient, message){

                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                console.log({recipient: recipient, message:message})

                let stuff = JSON.stringify({recipient: recipient, message:message});

                let config = {
                    method: 'post',
                    url: 'http://198.74.61.26:8080/messages/send/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : stuff
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data); //message sent...

                        let stuff = JSON.stringify({username: recipient});

                        let config = {
                            method: 'post',
                            url: 'http://198.74.61.26:8080/messages/read/',
                            headers: {
                                'Authorization': `Token ${current_user.token}`,
                                'Content-Type': 'application/json'
                            },
                            data : stuff
                        };

                        axios(config)
                            .then(function (response) {

                                console.log(response.data);

                                app.$root.$emit('populate_chat', response.data, recipient);

                            }).catch(function (error) {
                            console.log(error);

                        });

                    }).catch(function (error) {
                    console.log(error);

                });
            },
            activate(name) {
                this.hold = name;
            },
            open_popup(pop){
                try{
                    switch (pop) {
                        case 'add_chat_tab':
                            this.add_chat_tab = true;
                            break;
                        default:
                            break;

                    }
                }catch (e) {
                    console.log(e.message)
                }


            },
            create_chat_tab(person_to_chat_with){

                console.log(person_to_chat_with)

                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                let stuff = JSON.stringify({username: person_to_chat_with});

                let config = {
                    method: 'post',
                    url: 'http://198.74.61.26:8080/messages/read/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : stuff
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data);

                        if(response.data.length === 0){
                            //create a new chat....

                            app.$root.$emit('populate_blank_chat',person_to_chat_with);
                        }else{
                            //open old chat....

                            app.$root.$emit('populate_chat', response.data, person_to_chat_with);
                        }


                        // app.$root.$emit('go_to_page', ('other_profile'));



                    }).catch(function (error) {
                    console.log(error);
                    // this.inputText = '';
                    // alert(`Hmmm, it doesn't seem like that user exists... Try another email?`);
                    // this.inputText = '';

                });

            }
        },
        computed:{

        },
        mounted(){
            app.$root.$on('populate_blank_chat',(person)=>{

                this.appendTextToChat(person, '');


                // populate new side bar...


                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}


                let config = {
                    method: 'get',
                    url: 'http://198.74.61.26:8080/messages/userlist/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    }
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data.user_list);

                        app.$root.$emit('populate_chat_side', response.data.user_list);

                        this.add_chat_tab = false




                    }).catch(function (error) {
                    console.log(error);
                });

            })
            app.$root.$on('populate_chat',(chat_data)=>{

                this.chatWindowArray.splice(0);

                this.chatWindowArray = chat_data;

            })
            app.$root.$on('populate_chat_side',(array)=>{
                // console.log(person)

                this.chats.splice(0);


                this.chats = array;
                console.log('chat_bar_updated')
            })
            app.$root.$on('get_latest_chat_list_and_load',()=>{


                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}


                let config = {
                    method: 'get',
                    url: 'http://198.74.61.26:8080/messages/userlist/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    }
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data.user_list);

                        app.$root.$emit('populate_chat_side', response.data.user_list);


                    }).catch(function (error) {
                    console.log(error);
                });
            })
            app.$root.$on('clear_checker',()=>{
                clearInterval( this.checker);
            })




        }
    })

    Vue.component('discovery', {
        template:
            `
              <div>
              <div class=main_contain>
                <div class=row_div style="top: 60px; height: 10%">
                  <div class=input_bar2 style="top: 50%; transform: translate(0,-50%)">
                    <div class=table_div_chat>

                      <div class=column_div_chat style="width: 90%;">
                        <input type="text" class=userIn placeholder="Search by email for users..." v-model="inputText">
                      </div>

                      <div class=column_div_chat style="width: 8%;">
                        <div class=send_btn @click="searchForUser(inputText)">Search</div>
                      </div>

                    </div>
                  </div>
                </div>
                <div class=row_div style="height: 850px; top: 60px;">
                  <div>
                    <div class=profileTopBoarder v-for="index in this.other_profile">
                      <div class=pPhoto>
                        <img :src='index.IMG'>
                      </div>
                      <div class=extras>
                        <ul v-for="extra in index.extras">
                          <li class="desc"><img :src='extra.img' class=imgClass>{{ extra.item }}</li>
                        </ul>
                      </div>
                      <div class=pTitle>
                        <div class=username>{{ index.username }}</div>
                        <div class=campusIndicator v-if="index.on_campus === true"><img src="photos/check.png" class=icon>On Campus</div>
                        <div class=campusIndicator v-if="index.on_campus === false"><img src="photos/uncheck.png" class=icon>Off Campus</div>
                        <div class=addBtn @click="add_friend(index)" style="width: 150px">+Add Friend</div>
                        <div class=divRow>
                          <div class=divCol >
                            <div class=sub_contain>
                              <div class=subTitle>Here For...</div>
                              <div class=desc>{{ index.desc }}</div>
                            </div>
                            <div class=sub_contain>
                              <div class=subTitle>Hobbies & Interests</div>
                              <div style="overflow: auto; position: relative; height: 100px" class=h_box>
                                <ul v-for="hob in index.hob">
                                  <li class="desc">{{ hob }}</li>
                                </ul>
                              </div>
                            </div>
                          </div>
                          <div class=divCol >
                            <div class=subTitle>Mutual Connections</div>
                            <div class=mutualConProfilePhotosBox>
                              <div class=pPhoto_small v-for="person in index.friends">
                                <img :src="person.profile" class = mini_p_image>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class=greySubBackground>
                          <div class="table_div2">
                            <div>School Schedule</div>
                            <div class="column_div2" v-for="item in index.classes">
                              <div class=schd_box>
                                <table>
                                  <tr>
                                    <th  style="text-align: center">Class</th>
                                    <th style="text-align: center">DOW</th>
                                    <th style="text-align: center">Start Time</th>
                                    <th style="text-align: center">End Time</th>
                                    <th style="text-align: center">Building</th>
                                  </tr>
                                  <tr>
                                    <td>{{ item.class }}</td>
                                    <td>
                                      <ul>
                                        <li style="display: inline-block;padding: 5px" v-for="thing in item.dow">{{thing}}</li>
                                      </ul>
                                    </td>
                                    <td>{{ item.startTime }}</td>
                                    <td>{{ item.endTime }}</td>
                                    <td>{{ item.building }}</td>
                                  </tr>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="popup" v-if="this.hobbie_popup">
                      <div class=pop_up_text>
                        <div class = close @click="hobbie_popup = false">Close</div>
                        <div class=text style="font-size: 1.3em">Hobby:<input class="itext" type="text" v-model="this.hobbie_addition"></div>
                      </div>
                      <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_hobbie(this.hobbie_addition)">Add</div>
                    </div>

                    <div class="popup" v-if="this.classes_popup" style="top: 885px">
                      <div class=pop_up_text>
                        <div class = close @click="classes_popup = false">Close</div>
                        <input class="ptext" type="text" v-model="class_addition.classname" placeholder="Class name">
                        <div class = dofW>Monday</div>
                        <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.mon">
                        <div class = dofW>Tuesday</div>
                        <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.tus">
                        <div class = dofW>Wednesday</div>
                        <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.wed">
                        <div class = dofW>Thursday</div>
                        <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.thu">
                        <div class = dofW>Friday</div>
                        <input class="ptext" type="checkbox" v-model="class_addition.days_of_week.fri">
                        <div class = dofW>Start Time:</div>
                        <input class="ptext" type="time" v-model="class_addition.start_time">
                        <div class = dofW>End Time:</div>
                        <input class="ptext" type="time" v-model="class_addition.end_time">
                        <div class = dofW>Building:</div>
                        <input class="ptext" type="text" v-model="class_addition.building">

                      </div>
                      <div class=addBtn style="position: relative; top: 0; left: 50%; transform: translate(-50%,0)" @click="add_class(class_addition)">Add</div>
                    </div>
                  </div>
                </div>
              </div>
              </div>

            `,
        data(){
            return {
                other_profile:[],
                inputText:''

            }
        },
        methods: {
            searchForUser(username){

                console.log(username);

                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                let stuff = JSON.stringify({username: username});

                let config = {
                    method: 'post',
                    url: 'http://198.74.61.26:8080/profile/read_other/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : stuff
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data);

                        app.$root.$emit('populate_profile_other', response.data);



                    }).catch(function (error) {
                        console.log(error);
                    this.inputText = '';
                        alert(`Hmmm, it doesn't seem like that user exists... Try another email?`);
                    });




            },
            add_friend(other_profile){

                console.log(other_profile)

                current_user = localStorage.getItem('current_user'); // grab user....
                current_user = JSON.parse(current_user);
                if(diagnostic){console.log(current_user);}

                let stuff = JSON.stringify({username: other_profile.others_email});

                let config = {
                    method: 'post',
                    url: 'http://198.74.61.26:8080/profile/addfriend/',
                    headers: {
                        'Authorization': `Token ${current_user.token}`,
                        'Content-Type': 'application/json'
                    },
                    data : stuff
                };

                axios(config)
                    .then(function (response) {

                        console.log(response.data);

                        alert(`${other_profile.username} has been added as a friend`);

                        // app.$root.$emit('populate_profile_other', response.data);


                        app.$root.$emit('add_friend_to_mutual_connections',other_profile);


                    }).catch(function (error) {
                    console.log(error);
                    this.inputText = '';
                    let err = JSON.parse(error.request.responseText);
                    alert(err.error);
                });




            }
        },
        computed:{

        },
        mounted(){
            this.$root.$on('populate_profile_other', (data)=>{ // always from db....

              let final_array = [];

                data.class_schedules.forEach(schedule=>{
                    let dowArray = [];
                    let newDow = {
                        MON:schedule.monday,
                        TUS:schedule.tuesday,
                        WED:schedule.wednesday,
                        THU:schedule.thursday,
                        FRI:schedule.friday,
                    }

                    for (const day in newDow){
                        if(newDow[day] === true){
                            dowArray.push(day.toUpperCase());
                        }
                    }

                    let convertedScedule = {
                        building:schedule.building,
                        class:schedule.class_name,
                        endTime:schedule.end_time,
                        startTime:schedule.start_time,
                        dow:dowArray
                    }

                    final_array.push(convertedScedule);



                })


                console.log(final_array);

                this.other_profile.splice(0);

                if(diagnostic){console.log(data)}

                let newObj = {
                    username:`${data.first_name} ${data.last_name}`,
                    on_campus: data.on_campus,
                    IMG:data.avatar,
                    school:data.university,
                    job:data.job,
                    degree:data.major,
                    extras:[
                        {item:`${data.class_standing}, Undergraduate`, img:'./photos/hat.png'},
                        {item:`${data.major}`, img:'./photos/net.png'},
                        {item:`${data.job}`},
                    ],
                    hob:data.interests,
                    desc:data.about_me,
                    classes:final_array,
                    others_email:data.email,
                    friends:data.friends


                }

                this.other_profile = [newObj];
                console.log('done')

            })

        }
    })




    let app = new Vue({
        el: '#vueApp',
        data(){
            return {
                starting_pages:
                    {
                        state:true,
                        sub_state:{
                            sign_in:true,
                            sign_up:false,
                            forgot:false,
                        }
                    },
                profile_pages:
                    {
                        state:false,
                        sub_state:{
                            chat:false,
                            profile:false,
                            discovery:false,
                            other_profile:false
                        }
                    },
                update: {}

            }
        },

        methods:{
            updateBrowser(page, prop, data){
                try{
                    switch (page) {
                        case 'Profile': // profile page... (no cases needed as the values are simply pushed by a dynamic property...)

                            let past_user = localStorage.getItem('current_user'); // grab old user....
                            if(past_user !== null) { // if user exists....
                                past_user = JSON.parse(past_user); // parse the data....

                                if (diagnostic) {console.log(past_user);} // log user_data

                                try{
                                    switch (prop) {
                                        case  'desc':
                                            past_user[prop] = data; // modify data

                                            localStorage.clear(); // clears the local storage

                                            localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....

                                            app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                                            app.$root.$emit('remove_popup'); // removes the popup...
                                            break;
                                        case  'job':
                                            past_user[prop] = data; // modify data

                                            localStorage.clear(); // clears the local storage

                                            localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....

                                            app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                                            app.$root.$emit('remove_popup'); // removes the popup...
                                            break;
                                        case  'major':
                                            past_user[prop] = data; // modify data

                                            localStorage.clear(); // clears the local storage

                                            localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....

                                            app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                                            app.$root.$emit('remove_popup'); // removes the popup...
                                            break;
                                        default:
                                            past_user[prop].push(data); // modify data

                                            localStorage.clear(); // clears the local storage

                                            localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....

                                            app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                                            app.$root.$emit('remove_popup'); // removes the popup...
                                            break;

                                    }

                                }catch (e) {
                                    console.log(e.message);
                                }
                            }




                            // let past_user = localStorage.getItem('current_user'); // grab old user....
                            // if(past_user !== null){ // if user exists....
                            //     past_user = JSON.parse(past_user); // parse the data....
                            //
                            //     if(diagnostic){console.log(past_user);} // log user_data
                            //
                            //
                            //     if(prop !== 'desc' ){
                            //         past_user[prop].push(data); // modify data
                            //
                            //         localStorage.clear(); // clears the local storage
                            //
                            //         localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....
                            //
                            //         app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                            //         app.$root.$emit('remove_popup'); // removes the popup...
                            //     }else{
                            //         past_user[prop] = data; // modify data
                            //
                            //         localStorage.clear(); // clears the local storage
                            //
                            //         localStorage.setItem('current_user', JSON.stringify(past_user)); // saves new user data to browser's local storage....
                            //
                            //         app.$root.$emit('populate_profile', past_user); // populates profile..... // this update is only ever called within the user profile, so it is okay to always populate the user profile after....
                            //         app.$root.$emit('remove_popup'); // removes the popup...
                            //
                            //     }
                            // }
                            break;
                        case 'Chat': // chat page...
                            break;
                        default:
                            break;

                    }
                }catch (e) {
                    console.log(e.message)
                }
            },
            updateDB(page, prop, data){
                try{
                    switch (page) {
                        case 'Profile': // profile page...
                            try{
                                switch (prop) {
                                    case 'hob': // hobby...
                                        current_user = localStorage.getItem('current_user'); // grab user....
                                        if(current_user !== null){
                                            current_user = JSON.parse(current_user);
                                            if(diagnostic){console.log(current_user);}

                                            let stuff = JSON.stringify({
                                                "name": data,
                                            });

                                            let config = {
                                                method: 'post',
                                                url: 'http://198.74.61.26:8080/profile/addhobby/',
                                                headers: {
                                                    'Authorization': `Token ${current_user.token}`,
                                                    'Content-Type': 'application/json'
                                                },
                                                data : stuff
                                            };

                                            axios(config)
                                                .then(function (response) {

                                                    console.log(JSON.stringify(response.data));

                                                })
                                                .catch(function (error) {
                                                    console.log(error);
                                                });
                                        }
                                        break;
                                    case 'classes': // classes...
                                        current_user = localStorage.getItem('current_user'); // grab user....
                                        if(current_user !== null){
                                            current_user = JSON.parse(current_user);
                                            if(diagnostic){console.log(current_user);}

                                            console.log('schdle data????!')
                                            console.log(data)

                                            let states = {
                                                MON:false,
                                                TUS:false,
                                                WED:false,
                                                THU:false,
                                                FRI:false,
                                            };

                                            for(const item in data){

                                                if(item === 'dow'){
                                                    data[item].forEach(index=>{
                                                        if(index === 'MON'){
                                                            states['MON'] = true;
                                                        }else if(index === 'TUS'){
                                                            states['TUS'] = true;
                                                        }else if(index === 'WED'){
                                                            states['WED'] = true;
                                                        }else if(index === 'THU'){
                                                            states['THU'] = true;
                                                        }else if(index === 'FRI'){
                                                            states['FRI'] = true;
                                                        }
                                                    })
                                                }
                                            }

                                            console.log(states);

                                            let stuff = JSON.stringify({
                                                "class_name": data.class,
                                                "building": data.building,
                                                "start_time": data.startTime,
                                                "end_time": data.endTime,
                                                "monday": states.MON,
                                                "tuesday": states.TUS,
                                                "wednesday": states.WED,
                                                "thursday": states.THU,
                                                "friday": states.FRI,
                                            });

                                            let config = {
                                                method: 'post',
                                                url: 'http://198.74.61.26:8080/profile/addclass/',
                                                headers: {
                                                    'Authorization': `Token ${current_user.token}`,
                                                    'Content-Type': 'application/json'
                                                },
                                                data : stuff
                                            };

                                            axios(config)
                                                .then(function (response) {

                                                    console.log(JSON.stringify(response.data));
                                                    alert(`Schedule Updated!`)

                                                })
                                                .catch(function (error) {
                                                    console.log(error);
                                                });
                                        }
                                        break;
                                    case 'desc': // desc...
                                        current_user = localStorage.getItem('current_user'); // grab user....
                                        if(current_user !== null){
                                            current_user = JSON.parse(current_user);
                                            if(diagnostic){console.log(current_user);}


                                            let stuff = JSON.stringify({
                                                "about_me": data,
                                            });

                                            let config = {
                                                method: 'patch',
                                                url: 'http://198.74.61.26:8080/profile/update/',
                                                headers: {
                                                    'Authorization': `Token ${current_user.token}`,
                                                    'Content-Type': 'application/json'
                                                },
                                                data : stuff
                                            };

                                            axios(config)
                                                .then(function (response) {

                                                    console.log(JSON.stringify(response.data));
                                                    // alert(`Schedule Updated!`)

                                                }).catch(function (error) {
                                                    console.log(error);
                                                });
                                        }
                                        break;
                                    case 'job': // job...
                                        current_user = localStorage.getItem('current_user'); // grab user....
                                        if(current_user !== null){
                                            current_user = JSON.parse(current_user);
                                            if(diagnostic){console.log(current_user);}


                                            let stuff = JSON.stringify({
                                                "job": data,
                                            });

                                            let config = {
                                                method: 'patch',
                                                url: 'http://198.74.61.26:8080/profile/update/',
                                                headers: {
                                                    'Authorization': `Token ${current_user.token}`,
                                                    'Content-Type': 'application/json'
                                                },
                                                data : stuff
                                            };

                                            axios(config)
                                                .then(function (response) {

                                                    console.log(JSON.stringify(response.data));

                                                }).catch(function (error) {
                                                    console.log(error);
                                                });
                                        }
                                        break;
                                    case 'major': // major...
                                        current_user = localStorage.getItem('current_user'); // grab user....
                                        if(current_user !== null){
                                            current_user = JSON.parse(current_user);
                                            if(diagnostic){console.log(current_user);}


                                            let stuff = JSON.stringify({
                                                "major": data,
                                            });

                                            let config = {
                                                method: 'patch',
                                                url: 'http://198.74.61.26:8080/profile/update/',
                                                headers: {
                                                    'Authorization': `Token ${current_user.token}`,
                                                    'Content-Type': 'application/json'
                                                },
                                                data : stuff
                                            };

                                            axios(config)
                                                .then(function (response) {

                                                    console.log(JSON.stringify(response.data));

                                                }).catch(function (error) {
                                                    console.log(error);
                                                });
                                        }
                                        break;
                                    default:
                                        break;
                                }
                            }catch (e) {
                                console.log(e.message)
                            }
                            break;
                        case 'Chat': // chat page...
                            break;
                        default:
                            break;

                    }
                }catch (e) {
                    console.log(e.message)
                }
            },
            getCurrentUser(){
                // current_user = localStorage.getItem('current_user'); // grab user....
                // current_user = JSON.parse(current_user);
                // if(diagnostic){console.log(current_user);}
            }
        },
        mounted(){
            this.$root.$on('go_to_page',(page)=>{
                app.$root.$emit('clear_checker');
                if(diagnostic){console.log('checker cleared!')}
                try{
                    switch (page) {
                        case 'sign_up':
                            this.starting_pages.state = true; // starting pages state

                            this.starting_pages.sub_state.sign_in = false; // sign in
                            this.starting_pages.sub_state.sign_up = true; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = false; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery

                            break;
                        case 'sign_in':
                            this.starting_pages.state = true; // starting pages state

                            this.starting_pages.sub_state.sign_in = true; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = false; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery

                            break;
                        case 'chat':

                            this.starting_pages.state = false; // starting pages state

                            this.starting_pages.sub_state.sign_in = false; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = true; // profile pages state

                            this.profile_pages.sub_state.chat = true; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery



                            break;
                        case 'home':
                            break;
                        case 'Profile':
                            this.starting_pages.state = false; // starting pages state

                            this.starting_pages.sub_state.sign_in = false; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = true; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = true; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery
                            break;
                        case 'discovery':
                            this.starting_pages.state = false; // starting pages state

                            this.starting_pages.sub_state.sign_in = false; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = true; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = true; // discovery
                            break;
                        case 'sign_out':


                            this.starting_pages.state = true; // starting pages state

                            this.starting_pages.sub_state.sign_in = true; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = false; // forgot

                            this.profile_pages.state = false; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery



                            localStorage.clear();
                            break;
                        case 'forgot':


                            this.starting_pages.state = true; // starting pages state

                            this.starting_pages.sub_state.sign_in = false; // sign in
                            this.starting_pages.sub_state.sign_up = false; // sign up
                            this.starting_pages.sub_state.forgot = true; // forgot

                            this.profile_pages.state = false; // profile pages state

                            this.profile_pages.sub_state.chat = false; // chat
                            this.profile_pages.sub_state.profile = false; // profile
                            this.profile_pages.sub_state.home = false; // home
                            this.profile_pages.sub_state.discovery = false; // discovery



                            localStorage.clear();
                            break;

                    }
                }catch (e) {
                    console.log(e.message)
                }

            })
            this.$root.$on('upload',()=>{ // upload start
                document.getElementById('photo_upload').click();
            })




            this.$root.$on('update_browser',(page, prop, data)=>{ // upload start
                this.updateBrowser(page, prop, data);

            })
            this.$root.$on('update_db',(page, prop, data)=>{ // upload start
                this.updateDB(page, prop, data);

            })

        }
    })

    webSocket.on('html', function(data) {
        try {
            msg = JSON.parse(data);

            switch (msg.type) {
                case 'populate_profile':

                    app.$root.$emit('populate_profile', msg.data); // populates profile.....

                    app.$root.$emit('go_to_page',('Profile')); // opens the profile page.....
                    break;
                default:
                    break;
            }
        } catch (ex) {
            console.log(ex);
        }
    })

    webSocket.on('alert', function(data) {
        try {
           alert(data);
        } catch (ex) {
            console.log(ex);
        }
    })


</script>
<script src="/modules/fastClick.js"></script>

<script>
    let controller;

    function uploadFile() {

        if (event.target.files[0] !== undefined) {

            if (diagnostic) {console.log(`File found...`)}

            let file = event.target.files[0];

            let name = file.name;
            let fileReader = new FileReader();

            if (diagnostic) {console.log({file: file, name: name})}

            fileReader.onload = (event) => {

                if (diagnostic) {console.log(fileReader)}

                let data = event.target.result;

                let byteArray = new Uint8Array(data);

                if(diagnostic){
                    console.log(data);
                    console.log(byteArray);
                    console.log(file);
                }

                let form = new FormData();
                form.set('file', file);

                

                axios.post(`./public/profile_photos`, form, {

                    onUploadProgress: progressEvent => {
                        const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);

                        console.log(percentCompleted)

                        // if(percentCompleted){}
                    }
                })
                    .then(res => {
                        if(diagnostic){console.log(res.data)}

                        if(res.data === 'OK'){

                            if(diagnostic){console.log('fully done.')}

                            webSocket.emit('js',JSON.stringify({type:'getPhotoName'}));

                            if(diagnostic){console.log('Getting photoName....')}


                        }

                        webSocket.on('photoRes',(name)=>{
                            if(diagnostic){console.log(name);}
                            app.$root.$emit('upload_complete', (name));
                            $("#photo_upload")[0].value = '';


                        })


                    })
            };
            fileReader.readAsArrayBuffer(file)
        }else{
            console.log(`file undefined`);
        }
    }
</script>

<script>
    try{
        let past_user = localStorage.getItem('current_user');
        if(past_user !== null){
            console.log(past_user);
            past_user = JSON.parse(past_user);

            console.log(past_user);

            app.$root.$emit('populate_profile', past_user); // populates profile..... // one of these should be made for each page to be populated....

            app.$root.$emit('go_to_page',('Profile')); // opens the profile page..... // should be able to change 'Profile' string to any page, this way on refresh, the page will always be where last set....
        }


    }catch (e) {
        console.log(e);
    }
</script>

</body>
</html>